<div class="container-fluid">
    <div class="d-flex align-items-center mt-2">
        <div class="m-2">
            <div class="h-size"><i class="fas fa-user-edit"></i> <b>Promotions</b></div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-4">
            <label for="branch"> Branch : <span
                class="color-red">*</span></label>
            <select class="form-control" [(ngModel)]="branchModel" name="year" (change)="fetchDepartments()"
                id="branch">
                <option disabled selected>Please Select Branch</option>
                <option *ngFor="let branch of branchData" value={{branch.companyBranchDetailsId}}>{{branch.branchName}}
                </option>
            </select>

        </div>
        <div class="col-md-4">
            <label for="department">Department : <span class="color-red">*</span></label>
           <select class="form-control" [(ngModel)]="departmentModel" name="department" 
                id="department">
                <option disabled selected>Please Select Department</option>
                <option *ngFor="let dep of departmentData" value={{dep.departmentId}}>{{dep.departmentName}}</option>
            </select>

        </div>
        <div class="col-md-4 tttt ">
            <button class="btn btn-primary btn-sm" (click)="fetchEmployees()">Search</button>&nbsp;

            <button class="btn btn-danger btn-sm" (click)="clearData()">Cancel</button>
        </div>
    </div>
    <br>
    <div class="container-fluid" *ngIf="toggleScreen == true">

        <div class="row">
            <div class="col-md-12">
                <table class="table table-bordered table-hover table-sm">
                    <th class="t-head" *ngFor="let head of headers2" id="headers2">
                        <tr>
                            {{head}}
                        </tr>
                    </th>

                    <tbody>
                        <tr *ngFor="let employee of employeeList">
                            <td>{{employee.employeeCode}}</td>
                            <td>{{employee.firstName}} {{employee.lastName}}</td>
                            <td>{{employee.departmentName}}</td>
                            <td>{{employee.branchName}}</td>
                            <td>{{employee.designationName}}</td>
                            <td>{{employee.gradeName}}</td>
                            <td>{{employee.categoryName}}</td>
                            <td>{{employee.projectName}}</td>
                            <td>

                                <a title="Promote/Demote" class="icon-margin" (click)="editPromotion(employee)"><span
                                        class="fas fa-user-edit" data-toggle="modal"
                                        data-target="#promotions"></span></a>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>

<div class="modal fade common-model" id="promotions">
    <div class="modal-dialog modal-xl">
        <div class="modal-content model width">
            <!-- Modal Header -->
            <div class="modal-header">
                <div class="modal-title"><i class="fa fa-eye" aria-hidden="true"></i> Promotion/Demotion
                </div>
                <button type="button" class="close" data-dismiss="modal">&times;</button>
            </div>
            <!-- Modal body -->
            <div class="modal-body sample">
                <div class="row col-12 padding-field-bottom">
                    <div class="row col-md-12">
                        <div class="col-3">
                            <label><strong>Employee Code :</strong></label>
                        </div>
                        <div class="col-3">
                            {{employeeCode}}
                        </div>
                        <div class="col-3">
                            <label><strong>Employee Name :</strong></label>
                        </div>
                        <div class="col-3">
                            {{firstName}} {{lastName}}
                        </div>
                    </div>
                    <div class="row col-md-12">
                        <div class="col-3">
                            <label><strong>Branch :</strong></label>
                        </div>
                        <div class="col-3">
                            {{branchName}}
                        </div>
                        <div class="col-3"> 
                            <label><strong>Department :</strong></label>
                        </div>
                        <div class="col-3">
                            {{departmentName}}
                        </div>
                      
                    </div>
                    <div class="row col-md-12">
                        <div class="col-3">
                            <label><strong>Grade :</strong></label>
                        </div>
                        <div class="col-3">
                            {{gradeName}}
                        </div>
                        <div class="col-3">
                            <label><strong>Designation:</strong></label>
                        </div>
                        <div class="col-3">
                            {{designationName}}
                        </div>
                    </div>
                    <div class="row col-md-12">
                        <div class="col-3">
                            <label><strong>Category :</strong></label>
                        </div>
                        <div class="col-3">
                            {{categoryName}}
                        </div>
                        <div class="col-3">
                            <label><strong>Project :</strong></label>
                        </div>
                        <div class="col-3">
                            {{projectName}}
                        </div>
                    </div>
                   
                    <div class="row col-md-12">
                        <div class="col-3">
                            <label for="designation"><strong>Promote/Demote To :</strong></label>
                            <select class="form-control" [(ngModel)]="designationModel" name="designation"
                            id="designation">
                            <option disabled selected>Please Select Designation</option>
                            <option *ngFor="let des of designationData" value={{des.designationId}}>{{des.designationName}}
                            </option>
                        </select>
                        </div>
                    </div>
                    <br>
                    <br>
                    

                </div>
                <button class="btn btn-primary btn-sm"  data-dismiss="modal" (click)="promoteEmployee(employeeData)">Promote/Demote</button>&nbsp;

                    <button class="btn btn-danger btn-sm" (click)="clearPromotion()">Clear</button>
            </div>
        </div>
    </div>
</div>