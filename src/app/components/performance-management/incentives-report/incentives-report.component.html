<div class="container-fluid">
    <div class="d-flex align-items-center mt-2">
        <div class="m-2">
            <div class="h-size"><i class="fas fa-user-edit"></i> <b>Incentives Report</b></div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-4">
            <label for="branch"> Year : <span class="color-red">*</span></label>
            <!-- <select class="form-control" [(ngModel)]="branchModel" name="year" (change)="fetchDepartments()"
                id="branch">
                <option disabled selected>Please Select Year</option>
                

            </select> -->
            <select class="form-control" name="leaveYear" [(ngModel)]="branchModel">
                <option value="" disabled>Select Year</option>
                <option *ngFor="let data of leaveYear" [value]="data.leaveYear">{{data.leaveYear}}</option>
            </select>
            <span class="color-red" *ngIf="(submitted && leaveYearValidation)">Leave Year
                {{requiredErrorText}}</span>

        </div>
        <div class="col-md-4">
            <label for="department">Quarter : </label>
            <select class="form-control" [(ngModel)]="departmentModel" name="department" 
                id="department">
                <option value="all">All </option>
                <option value="Q1">Q1 Jan-Mar </option>
                <option value="Q2">Q2 Apr-Jun </option>
                <option value="Q3">Q3 Jul-Sep </option>
                <option value="Q4">Q4 Oct-Dec </option>
                <!-- <option *ngFor="let dep of departmentData" value={{dep.departmentId}}>{{dep.departmentName}}</option> -->
            </select>

        </div>
        <div class="col-md-4 tttt ">
            <button class="btn btn-primary btn-sm" (click)="fetchEmployees()">Search</button>&nbsp;

            <button class="btn btn-danger btn-sm" (click)="clearData()">Cancel</button>
        </div>
    </div>
    <br>
    <div class="container-fluid" *ngIf="toggleScreen == true">

        <div class="row" *ngIf="!leaveYearValidation">
            <div class="col-md-12">
                <table sortable-table (sorted)="onSorted($event)"  class="table table-bordered table-hover table-sm">
                    <thead class="t-head">
                        <tr>
                            <!-- {{head}} -->
                            <th sortable-column="jobOwner"><a>Recruiter Name</a></th>
                            <th sortable-column="clientName"><a>Client Name</a></th>
                            <th sortable-column="candidateName"><a>Candidate Name</a></th>
                            <th sortable-column="fundsRealizedOn"><a>Joined Date</a></th>
                            <th sortable-column="salaryOffered"><a>Salary Offered</a></th>
                            <th sortable-column="regularIncentive"><a>Regular Incentive</a></th>
                            <th sortable-column="additionalIncentive"><a>Additional Incentive</a></th>
                            <th sortable-column="fee"><a>Total</a></th>
                            <th sortable-column="paidDate"><a>Payment Date</a></th>
                        </tr>
                    </thead>

                    <tbody>
                        <tr *ngFor="let employee of employeeList">
                            <td>{{employee.jobId.jobOwner}}</td>
                            <td>{{employee.jobId.clientId.clientName}}</td>
                            <td>{{employee.candidateId.candidateName}}</td>
                            <td>{{employee.fundsRealizedOn | date:'dd-MM-yyyy'}}</td>
                            <td>{{employee.salaryOffered}}</td>
                            <td>{{employee.regularIncentive}}</td>
                            <td>{{employee.additionalIncentive}}</td>
                            <td>{{employee.fee}}</td>
                            <td>{{employee.paidDate | date:'dd-MM-yyyy'}}</td>
                            <!-- <td></td> -->
                            <!-- <td>

                                <a *ngIf="employee.paidDate==null" title="Promote/Demote" class="icon-margin" (click)="editPromotion(employee)"><span
                                        class="fas fa-user-edit" data-toggle="modal"
                                        data-target="#promotions"></span></a>
                            </td> -->
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>

