<div class="container-fluid">
    <br>
    <label>Investment Year: &nbsp; </label>
    <select [(ngModel)]="yearModel" (change)="getInvestmentdata()">
        <option value="">Please Select Year</option>
        <option *ngFor="let year of investmentYear" value={{year.financialYearId}}>{{year.financialYear}}</option>
    </select>
    <br>
    <br>
    <table class="table table-bordered table-hover table-sm">
        <thead class="t-head">
            <tr>
                <th><a>Sr.No.</a></th>
                <th><a>Investment Type</a></th>
                <th><a>Investment Name</a></th>
                <th><a>Declared Amount</a></th>
                <th><a>Made Amount</a></th>
                <th><a>Date</a></th>
                <th><a>Evidence Proof</a></th>
                <th><a>Action</a></th>
            </tr>
        </thead>
        <tbody>
            <tr *ngIf="toggleLoader">
                <td colspan="8">
                    <img src="./assets/images/loader-icon.gif" class="loader-margin img-responsive" alt="loading....">
                </td>
            </tr>
            <tr *ngFor="let data of investmentData;let i=index">
                <td>{{i+1}}</td>
                <td>{{data.investmentType}}</td>
                <td>{{data.investmentsName}}</td>
                <td>{{data.declared}}</td>
                <td>{{data.made}}</td>
                <td>{{data.investmentDate}}</td>
                <td>{{data.fileName}}</td>
                <td>
                    <a title="Edit" class="icon-margin" data-toggle="modal" data-target="#update-model"
                        (click)="edit(data)"><i class="fas fa-user-edit"></i></a>
                    <a title="Delete" class="icon-margin"><span class="fa fa-trash"></span></a>
                </td>
            </tr>
        </tbody>

    </table>
    <button class="btn btn-success" (click)="addInvestment()" *ngIf="employeeId !=1">Add</button>
</div>

<div class="modal fade common-model" id="update-model">
    <div class="modal-dialog modal-xl">
        <div class="modal-content model">
            <!-- Modal Header -->
            <div class="modal-header">
                <div class="modal-title"><i class="fas fa-edit ml-1"></i> Investment </div>
                <button type="button" class="close" data-dismiss="modal">&times;</button>
            </div>
            <!-- Modal body -->
            <div class="modal-body">
                <div class="row">
                    <div class="col-md-4">
                        <input type="text" class="form-control search-ip" />
                        <span span class="color-red" *ngIf="submitted && InvestmentType == ''">Investment Type can't be
                            blank.</span>
                        <ul class="type-list">
                            <li> <b>Investment Type</b></li>
                            <li *ngFor="let data of invtypes">
                                <input type="radio" id={{data.id}} name="sections" [checked]="data.type == invType"
                                    (click)="Investmentclick(data.type)" [value]='false'>
                                <label for={{data.id}}>{{data.type}}</label>
                            </li>
                        </ul>
                    </div>
                    <div class="col-md-8">

                        <div class="form-group">
                            <label>Investment Name</label>
                            <input type="text" class="form-control" [(ngModel)]="invNameModel">
                            <span span class="color-red" *ngIf="submitted && invNameModel == ''">Investment Name can't
                                be blank.</span>
                        </div>

                        <div class="form-group">
                            <label>Investment Date</label>
                            <input [(ngModel)]="invDateModel" type="text" bsDatepicker placeholder="Please Select Date"
                                readonly [bsConfig]="{ isAnimated: true, dateInputFormat: 'DD-MM-YYYY' }" bsDatepicker
                                (bsValueChange)="onTdsDateValueChange($event)" placement="bottom"
                                class="text form-control pull-top-5" maxlength="50" />
                            <span span class="color-red" *ngIf="submitted && tdsDateModal == ''">Investment Date can't
                                be blank.</span>
                        </div>
                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label>Declared</label>
                                    <input type="text" class="form-control" [(ngModel)]="invDeclareModel">
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label>Made</label>
                                    <input type="text" class="form-control" [(ngModel)]="invMadeModel">
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label>Evidence/Proof</label>
                            <input type="file" class="form-control" (change)="onFileChanged($event)"
                                [(ngModel)]="evidanceModel">
                            <h4>{{invProof}}<a title="Download to View" class="icon-margin"
                                    (click)="downloadDocumentAttachment(filepath,invProof)" target="_blank"><i
                                        class="fas fa-download"></i></a></h4>
                            <span span class="color-red" *ngIf="submitted && evidanceModel == ''">Please select
                                Evidence/Proof.</span>
                        </div>
                        <div class="form-group">
                            <label>Remarks</label>
                            <textarea class="form-control" [(ngModel)]="invremarksModel"></textarea>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Modal footer -->
            <hr>
            <div class="row btn-footer">
                <div class="col-md-6 pull-left">
                    <button type="button" (click)="update()" id="btnComponentSave"
                        class="button btn-primary btn-style"><i class="fas fa-save"></i>
                        Update</button>
                </div>
                <div class="col-md-6 pull-right">
                    <button type="button" class="button btn-warning btn-style" (click)="cancel()">Cancel</button>
                </div>
            </div>
        </div>
    </div>
</div>